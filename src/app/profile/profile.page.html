<ion-header>
  <ion-toolbar>
    <ion-title>Profile</ion-title>
    <ion-buttons slot="end">
      <ion-button routerLink="/settings">
        <ion-icon slot="icon-only" name="settings-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-card>
    <ion-card-content class="ion-text-center">
      <ion-avatar class="profile-avatar">
        <img alt="Profile Picture" src="assets/avatar.png" />
      </ion-avatar>
      <h2 class="profile-name">{{ userData?.username || 'User' }}</h2>
      <p class="profile-email">{{ userData?.email || 'user@example.com' }}</p>
      
      <ion-grid class="stats-grid">
        <ion-row>
          <ion-col>
            <div class="stat-value">{{ workoutCount || 0 }}</div>
            <div class="stat-label">Workouts</div>
          </ion-col>
          <ion-col>
            <div class="stat-value">{{ totalHours || 0 }}</div>
            <div class="stat-label">Hours</div>
          </ion-col>
          <ion-col>
            <div class="stat-value">{{ daysActive || 0 }}</div>
            <div class="stat-label">Days Active</div>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-card-content>
  </ion-card>

  <ion-card>
    <ion-card-header>
      <ion-card-title>Achievements</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <ion-list>
        <ion-item *ngFor="let achievement of achievements">
          <ion-icon [name]="achievement.icon" slot="start" [color]="achievement.unlocked ? 'primary' : 'medium'"></ion-icon>
          <ion-label>
            <h3>{{ achievement.name }}</h3>
            <p>{{ achievement.description }}</p>
          </ion-label>
          <ion-badge slot="end" *ngIf="achievement.unlocked">✓</ion-badge>
        </ion-item>
        
        <ion-item *ngIf="achievements.length === 0">
          <ion-label color="medium">Complete workouts to unlock achievements</ion-label>
        </ion-item>
      </ion-list>
    </ion-card-content>
  </ion-card>

  <ion-card>
    <ion-card-header>
      <ion-card-title>Personal Records</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <ion-list>
        <ion-item *ngFor="let record of personalRecords">
          <ion-label>
            <h3>{{ record.exercise }}</h3>
            <p>{{ record.weight }} kg × {{ record.reps }}</p>
          </ion-label>
          <ion-note slot="end" color="primary">{{ record.date | date:'MMM d' }}</ion-note>
        </ion-item>
        
        <ion-item *ngIf="personalRecords.length === 0">
          <ion-label color="medium">Complete workouts to set personal records</ion-label>
        </ion-item>
      </ion-list>
    </ion-card-content>
  </ion-card>
</ion-content>
